<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Head-Meta stuff -->
		<meta name="author" content="Petschko" />
		<meta name="description" content="Decrypt or encrypt RPG-Maker-MV Files (.rpgmvp, .rpgmvm or .rpgmvo) here" />
		<meta name="keywords" content="RPG-Maker-MV, RPG-Maker-Decrypter, rpg-maker, decrypt, decrypter, encrypt, encrypter, RPG-Maker-Encrypter, rpgmvp, rpgmvm, rpgmvo" />

		<!-- Important Head content -->
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>RPG-Maker-MV Decrypter by Petschko</title>
		<link rel="stylesheet" href="style.css?ver=1.0">
	</head>
	<body>
		<noscript>
			<div>
				<p>
					<strong>Warning</strong>: This Script requires JavaScript. Please enable JavaScript or switch to an newer Browser.
				</p>
				<hr>
				<p>
					This Script En/Decrypt Files for you but the Decryption is not done by a Server, it's done by your Browser.<br>
					If you don't trust this Script <a href="https://github.com/Petschko/RPG-Maker-MV-Decrypter" title="Check out the Source-Code" target="_blank">check out the Code on Github</a> <i>(or view it in your Browser)</i>. =)
				</p>
			</div>
		</noscript>
		<div>
			<div class="info">
				<strong>Information:</strong>
				<p>
					I've <a href="https://github.com/Petschko/Java-RPG-Maker-MV-Decrypter/releases/tag/v0.1.3-alpha" title="See the Alpha on Github" target="_blank">released an Alpha-Version</a> of my Project "<a href="https://github.com/Petschko/Java-RPG-Maker-MV-Decrypter" title="Visit the Project on Github" target="_blank">Java-RPG-Maker-MV-Decrypter</a>", which works with whole Directories and save/renames Files by itself...<br>
					May you try it out, it also have a GUI. If you just want to decrypt single-Files, I recommend this Version here <i>(Bec you don't need to download it)</i>. But for whole Directories you should try the Java-Version of the Decrypter! =)
				</p>
			</div>
			<h1>Petschkos RPG-Maker MV-File Decrypter</h1>
			<p>Welcome to the RPG-Maker MV-File Decrypter you can easily decrypt Files from any RPG-MV Project that are encrypted with the Build-In encryption.</p>
			<h2>How to use?</h2>
			<p><strong>First</strong>: Please note, that this Script is just tested and developed on Firefox. You can help me to make it run on all Browsers, by <a href="https://github.com/Petschko/RPG-Maker-MV-Decrypter/issues" title="Help me by reporting Bugs" target="_blank">reporting bugs</a>!</p>
			<ol>
				<li>
					Check if the encrypted Files have the File-Extension "<strong>.rpgmvp</strong>", "<strong>.rpgmvm</strong>" or "<strong>.rpgmvo</strong>" - If they have this extension(s) you can use this script
				</li>
				<li>
					Get the Decrypt-Code
					<ul>
						<li>Upload the System.json File from the Game and lets detect the Code automatic</li>
					</ul>
				</li>
				<li>Select the File(s) to decrypt - <i>Multi-Select-Files are possible!</i></li>
				<li>Hit the Decrypt-Button</li>
				<li>
					You can access your decrypted Files, if you click on "View", next to the Filename.
				</li>
				<li>
					<span class="red">New:</span> You can save them now by clicking on "Save". (The Script will keep the File-Name and change the Extension for you!) =)
				</li>
			</ol>
		</div>

		<p>You can get the Decrypt-Code from the File: "Game-Directory"/www/data/System(.json) and get the Key without the "" or upload the System file here.</p>
		<hr>
		<div class="wrapper center">
			<div class="left">
				<h2>File-Info</h2>
				<div class="fileInfoArea">
					<div>
						Verify Fake-Header?
						<div class="tooltip help">
							(?)
							<div class="tooltipText longText">
								<p>This checks if the File-Header is correct (Start of the File).</p>
								<p>The Header is just important for Encryption. (Decryption can ignore it)</p>
								<hr>
								<p class="text-left">In <strong>very rare</strong> cases some Games use different Header-Settings. You can find the correct-Header-Settings in:<br>
									<span class="red">"Game-Directory"/www/js/rpg_core.js</span><br>
									Search for "<strong>function Decrypter()</strong>", there you can find all values.</p>
							</div>
						</div>
					</div>
					<div>
						<label>
							<input type="radio" name="checkFakeHeader" value="1" checked="checked">Yes
						</label>
						<label>
							<input type="radio" name="checkFakeHeader" value="0">No (Ignore it)
							<span class="tooltip help">
								(?)
								<span class="tooltipText longText">
									Ignores the File-Header<br>
									<strong>Warning</strong>: Can cause invalid decrypted Files! (Its decrypts even if the File was not encrypted. After that, the new File is useless)<br>
									<br>
									Just use "No" if you are sure, that your File is Encrypted by the RPG-Maker!
								</span>
							</span>
						</label>
					</div>
					<div id="headerInfo" class="hidden">
						<h3>Header-Info</h3>
						<label>
							Header-Length <i>(In Bytes)</i>: <input type="text" name="headerLen" id="headerLen" value="16">
						</label>
						<label>
							Header-Signature: <input type="text" name="signature" id="signature" value="5250474d56000000">
						</label>
						<label>
							Header-Version: <input type="text" name="version" id="version" value="000301">
						</label>
						<label>
							Header-Remain: <input type="text" name="remain" id="remain" value="0000000000">
						</label>
						<button type="button" id="resetHeader">Reset Header-Values to default</button>
					</div>
					<div>
						<label>
							System(.json) <i>(For Decryption-Code)</i>:<br>
							<input type="file" name="system.json" id="systemFile">
						</label>
						<button id="detectButton">Detect</button>
					</div>
					<div>
						<label>
							En/Decrypt-Code: <input type="text" name="decryptCode" id="decryptCode" required>
						</label>
					</div>
					<div>
						<label>
							En/Decrypt-File(s): <input type="file" name="encryptedImg" id="encryptedImg" multiple required>
						</label>
					</div>
					<button type="button" id="decrypt">
						<img src="lock_broken.png" alt="(Broken Lock)">
						<span>Decrypt</span>
					</button>
					<button type="button" id="encrypt">
						<img src="lock.png" alt="(Lock)">
						<span>(Re)-Encrypt</span>
					</button>
				</div>
			</div>
			<div class="fileList right">
				<h2>File-List</h2>
				<button type="button" onclick="document.getElementById('blob').innerHTML = '';">Clear File-List</button>
				<div id="blob"></div>
			</div>
		</div>
		<footer>
			<div class="css_valid center">
				<a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
					<img class="valid_css" src="http://jigsaw.w3.org/css-validator/images/vcss" alt="CSS ist valide!" />
				</a>
			</div>
			<div class="center creator">
				Script created by <a href="mailto:peter-91@hotmail.de" title="Send me a Mail if you have questions/problems">Petschko</a>
				&nbsp;|&nbsp;
				<a href="https://github.com/Petschko/RPG-Maker-MV-Decrypter" target="_blank" title="Visit this Project on GitHub">
					Visit the Repository on GitHub
				</a>
				&nbsp;|&nbsp;
				<a href="https://github.com/Petschko/RPG-Maker-MV-Decrypter/issues" target="_blank" title="Please report Bugs if you find some =) (Can also send me a Mail)">
					Please report Bugs here
				</a>
			</div>
		</footer>

		<!-- Add Scripts -->
		<script src="functions.js?ver=1.0"></script>
		<script src="RPGFile.js?ver=1.0"></script>
		<script src="ErrorException.js?ver=1.0"></script>
		<script src="Decrypter.js?ver=1.0"></script>
	</body>
</html>
