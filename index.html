<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Decrypt RPG-Maker-MV Images</title>
		<script src="Decrypter.js"></script>
	</head>
	<body>
		<div>
			<h1>Petschkos RPG-Maker MV-File Decrypter</h1>
			<p>Welcome to the RPG-Maker MV-File Decrypter you can easily decrypt Images from any RPG-MV Project that are encrypted with the Build-In encryption. It seems that this works also with Audio-Files...</p>
			<h2>How to use?</h2>
			<ol>
				<li>Check if the encrypted Files have the File-Extension ".rpgmvp", ".rpgmvm" or "rpgmvo" - If they have this extension(s) you can use this script</li>
				<li>
					Get the Decrypt-Code
					<ul>
						<li>Upload the System.json File from the Game and lets detect the Code automatic</li>
					</ul>
				</li>
				<li>Select the File(s) to decrypt - <i>Multi-Select-Files are possible!</i></li>
				<li>Hit the Decrypt-Button</li>
				<li>You can access your decrypted files if you click on the link(s)</li>
				<li>
					You can save them by right clicking and using your Browsers "save" option - Note that you have to add the file extension!!
					<ul>
						<li>Images as .png</li>
						<li>Audio-Files as .ogg or .m4a</li>
					</ul>
				</li>
			</ol>
		</div>

		<p>You can get the Decrypt-Code from the File: "Game-Directory"/www/data/System(.json) and get the Key without the "" or upload the System file here:</p>
		<hr>
		<label>System(.json) <i>(For Decryption-Code)</i>:<br>
			<input type="file" name="system.json" id="systemFile"></label>
		<button onclick="getCode(document.getElementById('systemFile'), document.getElementById('decryptCode'));">Detect</button><br>
		<label>Decrypt-Code: <input type="text" name="decryptCode" id="decryptCode" style="width: 300px; background-color: #FFABAB;" onchange="this.style.backgroundColor = '#FFE6AB';" required></label><br>
		<label>Decrypt-File(s): <input type="file" name="encryptedImg" id="encryptedImg" multiple required></label><br>
		<button onclick="decryptFiles(document.getElementById('encryptedImg'), document.getElementById('decryptCode'));">Decrypt</button>
		<hr>
		<span onclick="document.getElementById('blob').innerHTML = '';" style="border: 1px solid #000; color: blue; cursor: pointer;">Clear File-List</span><br><br>
		<p id="blob"></p>
</body>
</html>
